{"ast":null,"code":"import { useMemo, useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\n\nvar useUnmountPromise = function () {\n  var refUnmounted = useRef(false);\n  useEffectOnce(function () {\n    return function () {\n      refUnmounted.current = true;\n    };\n  });\n  var wrapper = useMemo(function () {\n    var race = function (promise, onError) {\n      var newPromise = new Promise(function (resolve, reject) {\n        promise.then(function (result) {\n          if (!refUnmounted.current) resolve(result);\n        }, function (error) {\n          if (!refUnmounted.current) reject(error);else if (onError) onError(error);else console.error('useUnmountPromise', error);\n        });\n      });\n      return newPromise;\n    };\n\n    return race;\n  }, []);\n  return wrapper;\n};\n\nexport default useUnmountPromise;","map":{"version":3,"names":["useMemo","useRef","useEffectOnce","useUnmountPromise","refUnmounted","current","wrapper","race","promise","onError","newPromise","Promise","resolve","reject","then","result","error","console"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/useUnmountPromise.js"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmountPromise = function () {\n    var refUnmounted = useRef(false);\n    useEffectOnce(function () { return function () {\n        refUnmounted.current = true;\n    }; });\n    var wrapper = useMemo(function () {\n        var race = function (promise, onError) {\n            var newPromise = new Promise(function (resolve, reject) {\n                promise.then(function (result) {\n                    if (!refUnmounted.current)\n                        resolve(result);\n                }, function (error) {\n                    if (!refUnmounted.current)\n                        reject(error);\n                    else if (onError)\n                        onError(error);\n                    else\n                        console.error('useUnmountPromise', error);\n                });\n            });\n            return newPromise;\n        };\n        return race;\n    }, []);\n    return wrapper;\n};\nexport default useUnmountPromise;\n"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,MAAlB,QAAgC,OAAhC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AACA,IAAIC,iBAAiB,GAAG,YAAY;EAChC,IAAIC,YAAY,GAAGH,MAAM,CAAC,KAAD,CAAzB;EACAC,aAAa,CAAC,YAAY;IAAE,OAAO,YAAY;MAC3CE,YAAY,CAACC,OAAb,GAAuB,IAAvB;IACH,CAF2B;EAExB,CAFS,CAAb;EAGA,IAAIC,OAAO,GAAGN,OAAO,CAAC,YAAY;IAC9B,IAAIO,IAAI,GAAG,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;MACnC,IAAIC,UAAU,GAAG,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;QACpDL,OAAO,CAACM,IAAR,CAAa,UAAUC,MAAV,EAAkB;UAC3B,IAAI,CAACX,YAAY,CAACC,OAAlB,EACIO,OAAO,CAACG,MAAD,CAAP;QACP,CAHD,EAGG,UAAUC,KAAV,EAAiB;UAChB,IAAI,CAACZ,YAAY,CAACC,OAAlB,EACIQ,MAAM,CAACG,KAAD,CAAN,CADJ,KAEK,IAAIP,OAAJ,EACDA,OAAO,CAACO,KAAD,CAAP,CADC,KAGDC,OAAO,CAACD,KAAR,CAAc,mBAAd,EAAmCA,KAAnC;QACP,CAVD;MAWH,CAZgB,CAAjB;MAaA,OAAON,UAAP;IACH,CAfD;;IAgBA,OAAOH,IAAP;EACH,CAlBoB,EAkBlB,EAlBkB,CAArB;EAmBA,OAAOD,OAAP;AACH,CAzBD;;AA0BA,eAAeH,iBAAf"},"metadata":{},"sourceType":"module"}