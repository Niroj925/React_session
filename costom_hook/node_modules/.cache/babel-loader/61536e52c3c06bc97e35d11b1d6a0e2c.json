{"ast":null,"code":"var counter = 0;\nvar buckets = {};\n\nvar setHarmonicInterval = function (fn, ms) {\n  var _a;\n\n  var id = counter++;\n\n  if (buckets[ms]) {\n    buckets[ms].listeners[id] = fn;\n  } else {\n    var timer = setInterval(function () {\n      var listeners = buckets[ms].listeners;\n      var didThrow = false;\n      var lastError;\n\n      for (var _i = 0, _a = Object.values(listeners); _i < _a.length; _i++) {\n        var listener = _a[_i];\n\n        try {\n          listener();\n        } catch (error) {\n          didThrow = true;\n          lastError = error;\n        }\n      }\n\n      if (didThrow) throw lastError;\n    }, ms);\n    buckets[ms] = {\n      ms: ms,\n      timer: timer,\n      listeners: (_a = {}, _a[id] = fn, _a)\n    };\n  }\n\n  return {\n    bucket: buckets[ms],\n    id: id\n  };\n};\n\nvar clearHarmonicInterval = function (_a) {\n  var bucket = _a.bucket,\n      id = _a.id;\n  delete bucket.listeners[id];\n  var hasListeners = false;\n\n  for (var listener in bucket.listeners) {\n    hasListeners = true;\n    break;\n  }\n\n  if (!hasListeners) {\n    clearInterval(bucket.timer);\n    delete buckets[bucket.ms];\n  }\n};\n\nexport { clearHarmonicInterval, setHarmonicInterval };","map":{"version":3,"names":["counter","buckets","setHarmonicInterval","fn","ms","_a","id","listeners","timer","setInterval","didThrow","lastError","_i","Object","values","length","listener","error","bucket","clearHarmonicInterval","hasListeners","clearInterval"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/set-harmonic-interval/lib/index.esm.js"],"sourcesContent":["var counter = 0;\r\nvar buckets = {};\r\nvar setHarmonicInterval = function (fn, ms) {\r\n    var _a;\r\n    var id = counter++;\r\n    if (buckets[ms]) {\r\n        buckets[ms].listeners[id] = fn;\r\n    }\r\n    else {\r\n        var timer = setInterval(function () {\r\n            var listeners = buckets[ms].listeners;\r\n            var didThrow = false;\r\n            var lastError;\r\n            for (var _i = 0, _a = Object.values(listeners); _i < _a.length; _i++) {\r\n                var listener = _a[_i];\r\n                try {\r\n                    listener();\r\n                }\r\n                catch (error) {\r\n                    didThrow = true;\r\n                    lastError = error;\r\n                }\r\n            }\r\n            if (didThrow)\r\n                throw lastError;\r\n        }, ms);\r\n        buckets[ms] = {\r\n            ms: ms,\r\n            timer: timer,\r\n            listeners: (_a = {},\r\n                _a[id] = fn,\r\n                _a),\r\n        };\r\n    }\r\n    return {\r\n        bucket: buckets[ms],\r\n        id: id,\r\n    };\r\n};\r\nvar clearHarmonicInterval = function (_a) {\r\n    var bucket = _a.bucket, id = _a.id;\r\n    delete bucket.listeners[id];\r\n    var hasListeners = false;\r\n    for (var listener in bucket.listeners) {\r\n        hasListeners = true;\r\n        break;\r\n    }\r\n    if (!hasListeners) {\r\n        clearInterval(bucket.timer);\r\n        delete buckets[bucket.ms];\r\n    }\r\n};\n\nexport { clearHarmonicInterval, setHarmonicInterval };\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,CAAd;AACA,IAAIC,OAAO,GAAG,EAAd;;AACA,IAAIC,mBAAmB,GAAG,UAAUC,EAAV,EAAcC,EAAd,EAAkB;EACxC,IAAIC,EAAJ;;EACA,IAAIC,EAAE,GAAGN,OAAO,EAAhB;;EACA,IAAIC,OAAO,CAACG,EAAD,CAAX,EAAiB;IACbH,OAAO,CAACG,EAAD,CAAP,CAAYG,SAAZ,CAAsBD,EAAtB,IAA4BH,EAA5B;EACH,CAFD,MAGK;IACD,IAAIK,KAAK,GAAGC,WAAW,CAAC,YAAY;MAChC,IAAIF,SAAS,GAAGN,OAAO,CAACG,EAAD,CAAP,CAAYG,SAA5B;MACA,IAAIG,QAAQ,GAAG,KAAf;MACA,IAAIC,SAAJ;;MACA,KAAK,IAAIC,EAAE,GAAG,CAAT,EAAYP,EAAE,GAAGQ,MAAM,CAACC,MAAP,CAAcP,SAAd,CAAtB,EAAgDK,EAAE,GAAGP,EAAE,CAACU,MAAxD,EAAgEH,EAAE,EAAlE,EAAsE;QAClE,IAAII,QAAQ,GAAGX,EAAE,CAACO,EAAD,CAAjB;;QACA,IAAI;UACAI,QAAQ;QACX,CAFD,CAGA,OAAOC,KAAP,EAAc;UACVP,QAAQ,GAAG,IAAX;UACAC,SAAS,GAAGM,KAAZ;QACH;MACJ;;MACD,IAAIP,QAAJ,EACI,MAAMC,SAAN;IACP,CAhBsB,EAgBpBP,EAhBoB,CAAvB;IAiBAH,OAAO,CAACG,EAAD,CAAP,GAAc;MACVA,EAAE,EAAEA,EADM;MAEVI,KAAK,EAAEA,KAFG;MAGVD,SAAS,GAAGF,EAAE,GAAG,EAAL,EACRA,EAAE,CAACC,EAAD,CAAF,GAASH,EADD,EAERE,EAFK;IAHC,CAAd;EAOH;;EACD,OAAO;IACHa,MAAM,EAAEjB,OAAO,CAACG,EAAD,CADZ;IAEHE,EAAE,EAAEA;EAFD,CAAP;AAIH,CApCD;;AAqCA,IAAIa,qBAAqB,GAAG,UAAUd,EAAV,EAAc;EACtC,IAAIa,MAAM,GAAGb,EAAE,CAACa,MAAhB;EAAA,IAAwBZ,EAAE,GAAGD,EAAE,CAACC,EAAhC;EACA,OAAOY,MAAM,CAACX,SAAP,CAAiBD,EAAjB,CAAP;EACA,IAAIc,YAAY,GAAG,KAAnB;;EACA,KAAK,IAAIJ,QAAT,IAAqBE,MAAM,CAACX,SAA5B,EAAuC;IACnCa,YAAY,GAAG,IAAf;IACA;EACH;;EACD,IAAI,CAACA,YAAL,EAAmB;IACfC,aAAa,CAACH,MAAM,CAACV,KAAR,CAAb;IACA,OAAOP,OAAO,CAACiB,MAAM,CAACd,EAAR,CAAd;EACH;AACJ,CAZD;;AAcA,SAASe,qBAAT,EAAgCjB,mBAAhC"},"metadata":{},"sourceType":"module"}