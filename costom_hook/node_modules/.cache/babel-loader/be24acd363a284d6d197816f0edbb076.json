{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nvar Status;\n\n(function (Status) {\n  Status[Status[\"init\"] = 0] = \"init\";\n  Status[Status[\"play\"] = 1] = \"play\";\n  Status[Status[\"pause\"] = 2] = \"pause\";\n  Status[Status[\"end\"] = 3] = \"end\";\n})(Status || (Status = {}));\n\nvar useSpeech = function (text, options) {\n  var mounted = useRef(false);\n\n  var _a = useState(function () {\n    var _a = options.voice || {},\n        _b = _a.lang,\n        lang = _b === void 0 ? 'default' : _b,\n        _c = _a.name,\n        name = _c === void 0 ? '' : _c;\n\n    return {\n      isPlaying: false,\n      status: Status[Status.init],\n      lang: options.lang || 'default',\n      voiceInfo: {\n        lang: lang,\n        name: name\n      },\n      rate: options.rate || 1,\n      pitch: options.pitch || 1,\n      volume: options.volume || 1\n    };\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var handlePlay = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: true,\n        status: Status[Status.play]\n      });\n    });\n  }, []);\n  var handlePause = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: false,\n        status: Status[Status.pause]\n      });\n    });\n  }, []);\n  var handleEnd = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: false,\n        status: Status[Status.end]\n      });\n    });\n  }, []);\n  useEffect(function () {\n    mounted.current = true;\n    var utterance = new SpeechSynthesisUtterance(text);\n    options.lang && (utterance.lang = options.lang);\n    options.voice && (utterance.voice = options.voice);\n    utterance.rate = options.rate || 1;\n    utterance.pitch = options.pitch || 1;\n    utterance.volume = options.volume || 1;\n    utterance.onstart = handlePlay;\n    utterance.onpause = handlePause;\n    utterance.onresume = handlePlay;\n    utterance.onend = handleEnd;\n    window.speechSynthesis.speak(utterance);\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return state;\n};\n\nexport default useSpeech;","map":{"version":3,"names":["__assign","useCallback","useEffect","useRef","useState","Status","useSpeech","text","options","mounted","_a","voice","_b","lang","_c","name","isPlaying","status","init","voiceInfo","rate","pitch","volume","state","setState","handlePlay","current","preState","play","handlePause","pause","handleEnd","end","utterance","SpeechSynthesisUtterance","onstart","onpause","onresume","onend","window","speechSynthesis","speak"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/useSpeech.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nvar Status;\n(function (Status) {\n    Status[Status[\"init\"] = 0] = \"init\";\n    Status[Status[\"play\"] = 1] = \"play\";\n    Status[Status[\"pause\"] = 2] = \"pause\";\n    Status[Status[\"end\"] = 3] = \"end\";\n})(Status || (Status = {}));\nvar useSpeech = function (text, options) {\n    var mounted = useRef(false);\n    var _a = useState(function () {\n        var _a = options.voice || {}, _b = _a.lang, lang = _b === void 0 ? 'default' : _b, _c = _a.name, name = _c === void 0 ? '' : _c;\n        return {\n            isPlaying: false,\n            status: Status[Status.init],\n            lang: options.lang || 'default',\n            voiceInfo: { lang: lang, name: name },\n            rate: options.rate || 1,\n            pitch: options.pitch || 1,\n            volume: options.volume || 1,\n        };\n    }), state = _a[0], setState = _a[1];\n    var handlePlay = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: true, status: Status[Status.play] });\n        });\n    }, []);\n    var handlePause = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.pause] });\n        });\n    }, []);\n    var handleEnd = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.end] });\n        });\n    }, []);\n    useEffect(function () {\n        mounted.current = true;\n        var utterance = new SpeechSynthesisUtterance(text);\n        options.lang && (utterance.lang = options.lang);\n        options.voice && (utterance.voice = options.voice);\n        utterance.rate = options.rate || 1;\n        utterance.pitch = options.pitch || 1;\n        utterance.volume = options.volume || 1;\n        utterance.onstart = handlePlay;\n        utterance.onpause = handlePause;\n        utterance.onresume = handlePlay;\n        utterance.onend = handleEnd;\n        window.speechSynthesis.speak(utterance);\n        return function () {\n            mounted.current = false;\n        };\n    }, []);\n    return state;\n};\nexport default useSpeech;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}