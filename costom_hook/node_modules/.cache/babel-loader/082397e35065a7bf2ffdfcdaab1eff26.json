{"ast":null,"code":"import { useCallback, useRef, useState } from 'react';\nimport useUpdateEffect from '../useUpdateEffect';\n\nfunction composeMiddleware(chain) {\n  return function (context, dispatch) {\n    return chain.reduceRight(function (res, middleware) {\n      return middleware(context)(res);\n    }, dispatch);\n  };\n}\n\nvar createReducer = function () {\n  var middlewares = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    middlewares[_i] = arguments[_i];\n  }\n\n  var composedMiddleware = composeMiddleware(middlewares);\n  return function (reducer, initialState, initializer) {\n    if (initializer === void 0) {\n      initializer = function (value) {\n        return value;\n      };\n    }\n\n    var ref = useRef(initializer(initialState));\n\n    var _a = useState(ref.current),\n        setState = _a[1];\n\n    var dispatch = useCallback(function (action) {\n      ref.current = reducer(ref.current, action);\n      setState(ref.current);\n      return action;\n    }, [reducer]);\n    var dispatchRef = useRef(composedMiddleware({\n      getState: function () {\n        return ref.current;\n      },\n      dispatch: function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return dispatchRef.current.apply(dispatchRef, args);\n      }\n    }, dispatch));\n    useUpdateEffect(function () {\n      dispatchRef.current = composedMiddleware({\n        getState: function () {\n          return ref.current;\n        },\n        dispatch: function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          return dispatchRef.current.apply(dispatchRef, args);\n        }\n      }, dispatch);\n    }, [dispatch]);\n    return [ref.current, dispatchRef.current];\n  };\n};\n\nexport default createReducer;","map":{"version":3,"names":["useCallback","useRef","useState","useUpdateEffect","composeMiddleware","chain","context","dispatch","reduceRight","res","middleware","createReducer","middlewares","_i","arguments","length","composedMiddleware","reducer","initialState","initializer","value","ref","_a","current","setState","action","dispatchRef","getState","args","apply"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/factory/createReducer.js"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport useUpdateEffect from '../useUpdateEffect';\nfunction composeMiddleware(chain) {\n    return function (context, dispatch) {\n        return chain.reduceRight(function (res, middleware) {\n            return middleware(context)(res);\n        }, dispatch);\n    };\n}\nvar createReducer = function () {\n    var middlewares = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        middlewares[_i] = arguments[_i];\n    }\n    var composedMiddleware = composeMiddleware(middlewares);\n    return function (reducer, initialState, initializer) {\n        if (initializer === void 0) { initializer = function (value) { return value; }; }\n        var ref = useRef(initializer(initialState));\n        var _a = useState(ref.current), setState = _a[1];\n        var dispatch = useCallback(function (action) {\n            ref.current = reducer(ref.current, action);\n            setState(ref.current);\n            return action;\n        }, [reducer]);\n        var dispatchRef = useRef(composedMiddleware({\n            getState: function () { return ref.current; },\n            dispatch: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return dispatchRef.current.apply(dispatchRef, args);\n            },\n        }, dispatch));\n        useUpdateEffect(function () {\n            dispatchRef.current = composedMiddleware({\n                getState: function () { return ref.current; },\n                dispatch: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return dispatchRef.current.apply(dispatchRef, args);\n                },\n            }, dispatch);\n        }, [dispatch]);\n        return [ref.current, dispatchRef.current];\n    };\n};\nexport default createReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}