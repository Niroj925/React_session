{"ast":null,"code":"import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\n\nvar useLocalStorage = function (key, initialValue, options) {\n  if (!isBrowser) {\n    return [initialValue, noop, noop];\n  }\n\n  if (!key) {\n    throw new Error('useLocalStorage key may not be falsy');\n  }\n\n  var deserializer = options ? options.raw ? function (value) {\n    return value;\n  } : options.deserializer : JSON.parse; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var initializer = useRef(function (key) {\n    try {\n      var serializer = options ? options.raw ? String : options.serializer : JSON.stringify;\n      var localStorageValue = localStorage.getItem(key);\n\n      if (localStorageValue !== null) {\n        return deserializer(localStorageValue);\n      } else {\n        initialValue && localStorage.setItem(key, serializer(initialValue));\n        return initialValue;\n      }\n    } catch (_a) {\n      // If user is in private mode or has storage restriction\n      // localStorage can throw. JSON.parse and JSON.stringify\n      // can throw, too.\n      return initialValue;\n    }\n  }); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var _a = useState(function () {\n    return initializer.current(key);\n  }),\n      state = _a[0],\n      setState = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n  useLayoutEffect(function () {\n    return setState(initializer.current(key));\n  }, [key]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var set = useCallback(function (valOrFunc) {\n    try {\n      var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n      if (typeof newState === 'undefined') return;\n      var value = void 0;\n      if (options) {\n        if (options.raw) {\n          if (typeof newState === 'string') value = newState;else value = JSON.stringify(newState);\n        } else if (options.serializer) value = options.serializer(newState);else value = JSON.stringify(newState);\n      } else value = JSON.stringify(newState);\n      localStorage.setItem(key, value);\n      setState(deserializer(value));\n    } catch (_a) {// If user is in private mode or has storage restriction\n      // localStorage can throw. Also JSON.stringify can throw.\n    }\n  }, [key, setState]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var remove = useCallback(function () {\n    try {\n      localStorage.removeItem(key);\n      setState(undefined);\n    } catch (_a) {// If user is in private mode or has storage restriction\n      // localStorage can throw.\n    }\n  }, [key, setState]);\n  return [state, set, remove];\n};\n\nexport default useLocalStorage;","map":{"version":3,"names":["useCallback","useState","useRef","useLayoutEffect","isBrowser","noop","useLocalStorage","key","initialValue","options","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","current","state","setState","set","valOrFunc","newState","remove","removeItem","undefined"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/useLocalStorage.js"],"sourcesContent":["import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}