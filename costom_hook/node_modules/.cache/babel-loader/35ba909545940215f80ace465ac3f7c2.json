{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  if (initialState === void 0) {\n    initialState = {\n      loading: false\n    };\n  }\n\n  var lastCallId = useRef(0);\n  var isMounted = useMountedState();\n\n  var _a = useState(initialState),\n      state = _a[0],\n      set = _a[1];\n\n  var callback = useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var callId = ++lastCallId.current;\n\n    if (!state.loading) {\n      set(function (prevState) {\n        return __assign(__assign({}, prevState), {\n          loading: true\n        });\n      });\n    }\n\n    return fn.apply(void 0, args).then(function (value) {\n      isMounted() && callId === lastCallId.current && set({\n        value: value,\n        loading: false\n      });\n      return value;\n    }, function (error) {\n      isMounted() && callId === lastCallId.current && set({\n        error: error,\n        loading: false\n      });\n      return error;\n    });\n  }, deps);\n  return [state, callback];\n}","map":{"version":3,"names":["__assign","useCallback","useRef","useState","useMountedState","useAsyncFn","fn","deps","initialState","loading","lastCallId","isMounted","_a","state","set","callback","args","_i","arguments","length","callId","current","prevState","apply","then","value","error"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/useAsyncFn.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = useRef(0);\n    var isMounted = useMountedState();\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var callback = useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,EAAsBC,MAAtB,EAA8BC,QAA9B,QAA8C,OAA9C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,eAAe,SAASC,UAAT,CAAoBC,EAApB,EAAwBC,IAAxB,EAA8BC,YAA9B,EAA4C;EACvD,IAAID,IAAI,KAAK,KAAK,CAAlB,EAAqB;IAAEA,IAAI,GAAG,EAAP;EAAY;;EACnC,IAAIC,YAAY,KAAK,KAAK,CAA1B,EAA6B;IAAEA,YAAY,GAAG;MAAEC,OAAO,EAAE;IAAX,CAAf;EAAoC;;EACnE,IAAIC,UAAU,GAAGR,MAAM,CAAC,CAAD,CAAvB;EACA,IAAIS,SAAS,GAAGP,eAAe,EAA/B;;EACA,IAAIQ,EAAE,GAAGT,QAAQ,CAACK,YAAD,CAAjB;EAAA,IAAiCK,KAAK,GAAGD,EAAE,CAAC,CAAD,CAA3C;EAAA,IAAgDE,GAAG,GAAGF,EAAE,CAAC,CAAD,CAAxD;;EACA,IAAIG,QAAQ,GAAGd,WAAW,CAAC,YAAY;IACnC,IAAIe,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;MAC1CD,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;IACH;;IACD,IAAIG,MAAM,GAAG,EAAEV,UAAU,CAACW,OAA1B;;IACA,IAAI,CAACR,KAAK,CAACJ,OAAX,EAAoB;MAChBK,GAAG,CAAC,UAAUQ,SAAV,EAAqB;QAAE,OAAQtB,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKsB,SAAL,CAAT,EAA0B;UAAEb,OAAO,EAAE;QAAX,CAA1B,CAAhB;MAAgE,CAAxF,CAAH;IACH;;IACD,OAAOH,EAAE,CAACiB,KAAH,CAAS,KAAK,CAAd,EAAiBP,IAAjB,EAAuBQ,IAAvB,CAA4B,UAAUC,KAAV,EAAiB;MAChDd,SAAS,MAAMS,MAAM,KAAKV,UAAU,CAACW,OAArC,IAAgDP,GAAG,CAAC;QAAEW,KAAK,EAAEA,KAAT;QAAgBhB,OAAO,EAAE;MAAzB,CAAD,CAAnD;MACA,OAAOgB,KAAP;IACH,CAHM,EAGJ,UAAUC,KAAV,EAAiB;MAChBf,SAAS,MAAMS,MAAM,KAAKV,UAAU,CAACW,OAArC,IAAgDP,GAAG,CAAC;QAAEY,KAAK,EAAEA,KAAT;QAAgBjB,OAAO,EAAE;MAAzB,CAAD,CAAnD;MACA,OAAOiB,KAAP;IACH,CANM,CAAP;EAOH,CAhByB,EAgBvBnB,IAhBuB,CAA1B;EAiBA,OAAO,CAACM,KAAD,EAAQE,QAAR,CAAP;AACH"},"metadata":{},"sourceType":"module"}