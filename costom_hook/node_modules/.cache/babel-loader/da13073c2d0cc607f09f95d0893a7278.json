{"ast":null,"code":"import { useState } from 'react';\nimport { resolveHookState } from '../misc/hookState';\nimport useEffectOnce from '../useEffectOnce';\nimport useIsomorphicLayoutEffect from '../useIsomorphicLayoutEffect';\nexport function createGlobalState(initialState) {\n  var store = {\n    state: initialState instanceof Function ? initialState() : initialState,\n    setState: function (nextState) {\n      store.state = resolveHookState(nextState, store.state);\n      store.setters.forEach(function (setter) {\n        return setter(store.state);\n      });\n    },\n    setters: []\n  };\n  return function () {\n    var _a = useState(store.state),\n        globalState = _a[0],\n        stateSetter = _a[1];\n\n    useEffectOnce(function () {\n      return function () {\n        store.setters = store.setters.filter(function (setter) {\n          return setter !== stateSetter;\n        });\n      };\n    });\n    useIsomorphicLayoutEffect(function () {\n      if (!store.setters.includes(stateSetter)) {\n        store.setters.push(stateSetter);\n      }\n    });\n    return [globalState, store.setState];\n  };\n}\nexport default createGlobalState;","map":{"version":3,"names":["useState","resolveHookState","useEffectOnce","useIsomorphicLayoutEffect","createGlobalState","initialState","store","state","Function","setState","nextState","setters","forEach","setter","_a","globalState","stateSetter","filter","includes","push"],"sources":["/home/neo-j-thapa/Documents/React/costom_hook/node_modules/react-use/esm/factory/createGlobalState.js"],"sourcesContent":["import { useState } from 'react';\nimport { resolveHookState } from '../misc/hookState';\nimport useEffectOnce from '../useEffectOnce';\nimport useIsomorphicLayoutEffect from '../useIsomorphicLayoutEffect';\nexport function createGlobalState(initialState) {\n    var store = {\n        state: initialState instanceof Function ? initialState() : initialState,\n        setState: function (nextState) {\n            store.state = resolveHookState(nextState, store.state);\n            store.setters.forEach(function (setter) { return setter(store.state); });\n        },\n        setters: [],\n    };\n    return function () {\n        var _a = useState(store.state), globalState = _a[0], stateSetter = _a[1];\n        useEffectOnce(function () { return function () {\n            store.setters = store.setters.filter(function (setter) { return setter !== stateSetter; });\n        }; });\n        useIsomorphicLayoutEffect(function () {\n            if (!store.setters.includes(stateSetter)) {\n                store.setters.push(stateSetter);\n            }\n        });\n        return [globalState, store.setState];\n    };\n}\nexport default createGlobalState;\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,yBAAP,MAAsC,8BAAtC;AACA,OAAO,SAASC,iBAAT,CAA2BC,YAA3B,EAAyC;EAC5C,IAAIC,KAAK,GAAG;IACRC,KAAK,EAAEF,YAAY,YAAYG,QAAxB,GAAmCH,YAAY,EAA/C,GAAoDA,YADnD;IAERI,QAAQ,EAAE,UAAUC,SAAV,EAAqB;MAC3BJ,KAAK,CAACC,KAAN,GAAcN,gBAAgB,CAACS,SAAD,EAAYJ,KAAK,CAACC,KAAlB,CAA9B;MACAD,KAAK,CAACK,OAAN,CAAcC,OAAd,CAAsB,UAAUC,MAAV,EAAkB;QAAE,OAAOA,MAAM,CAACP,KAAK,CAACC,KAAP,CAAb;MAA6B,CAAvE;IACH,CALO;IAMRI,OAAO,EAAE;EAND,CAAZ;EAQA,OAAO,YAAY;IACf,IAAIG,EAAE,GAAGd,QAAQ,CAACM,KAAK,CAACC,KAAP,CAAjB;IAAA,IAAgCQ,WAAW,GAAGD,EAAE,CAAC,CAAD,CAAhD;IAAA,IAAqDE,WAAW,GAAGF,EAAE,CAAC,CAAD,CAArE;;IACAZ,aAAa,CAAC,YAAY;MAAE,OAAO,YAAY;QAC3CI,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACK,OAAN,CAAcM,MAAd,CAAqB,UAAUJ,MAAV,EAAkB;UAAE,OAAOA,MAAM,KAAKG,WAAlB;QAAgC,CAAzE,CAAhB;MACH,CAF2B;IAExB,CAFS,CAAb;IAGAb,yBAAyB,CAAC,YAAY;MAClC,IAAI,CAACG,KAAK,CAACK,OAAN,CAAcO,QAAd,CAAuBF,WAAvB,CAAL,EAA0C;QACtCV,KAAK,CAACK,OAAN,CAAcQ,IAAd,CAAmBH,WAAnB;MACH;IACJ,CAJwB,CAAzB;IAKA,OAAO,CAACD,WAAD,EAAcT,KAAK,CAACG,QAApB,CAAP;EACH,CAXD;AAYH;AACD,eAAeL,iBAAf"},"metadata":{},"sourceType":"module"}